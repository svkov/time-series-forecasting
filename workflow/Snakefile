configfile: 'workflow/config.yaml' # noqa

include: 'rules/download_data.smk'
include: 'rules/forecast.smk'
include: 'rules/reports.smk'
include: 'rules/process_data.smk'

rule all:
    input:
        expand('reports\\figures_raw\\{ticker}.png', ticker=config['tickers']),
        expand('reports\\forecast_{model}\\{ticker}.csv', ticker=config['tickers'], model=config['models']),
        expand('reports\\figures_pred\\{ticker}.png', ticker=config['tickers']),
        expand('reports\\metrics\\metrics_{ticker}.csv', ticker=config['tickers']),
        'data\\processed\\all.csv',
        'reports\\diploma.tex',
        'spbu_diploma\\main_example.pdf'
    shell:
         'echo Ready'